(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0018":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{iconType:{type:Number,default:1},iconSize:{type:Number,default:80},iconColor:{type:String,default:"#999999"},textSize:{type:Number,default:26},textColor:{type:String,default:"#999999"},text:{type:String,default:""}}};t.default=i},"094db":function(e,t,a){"use strict";var i=a("843b"),r=a.n(i);r.a},1801:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return i}));var i={gracePage:a("5415").default,graceSearch:a("8c62").default,graceLoading:a("f95f").default,graceEmpty:a("3c42").default},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("gracePage",{attrs:{customHeader:!1}},[a("v-uni-view",{attrs:{slot:"gHeader"},slot:"gHeader"},[a("v-uni-view",{staticClass:"grace-flex grace-flex-center grace-flex-vcenter grace-fixed-top"},[a("v-uni-view",{staticClass:"grace-header-icons grace-icons icon-arrow-left grace-black",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goback.apply(void 0,arguments)}}}),a("v-uni-view",{staticStyle:{width:"100%"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tapSearch.apply(void 0,arguments)}}},[a("graceSearch",{attrs:{kwd:e.searchKey,placeholder:"",background:"#F5F6F7"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}})],1)],1)],1),a("v-uni-view",{staticStyle:{height:"100%","background-color":"#fff"},attrs:{slot:"gBody"},slot:"gBody"},[a("v-uni-view",{staticClass:"grace-flex grace-flex-center grace-flex-vcenter grace-fixed-top",staticStyle:{"background-color":"#fff"}},[a("v-uni-view",{staticClass:"grace-header-icons grace-icons icon-arrow-left grace-black",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goback.apply(void 0,arguments)}}}),a("v-uni-view",{staticStyle:{width:"100%"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tapSearch.apply(void 0,arguments)}}},[a("graceSearch",{attrs:{kwd:e.searchKey,placeholder:"search",background:"#F5F6F7",focus:!0},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)},clear:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}})],1)],1),a("v-uni-view",{staticStyle:{height:"100%","padding-top":"88rpx"}},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.isSearchShow,expression:"isSearchShow"}],staticClass:"grace-body",staticStyle:{height:"100%"}},[e.searchKeyHistory.length>0?a("v-uni-view",[a("v-uni-view",{staticClass:"grace-title"},[a("v-uni-text",{staticClass:"grace-title-text grace-black"},[e._v(e._s(e.$t("Search_history")))]),a("v-uni-text",{staticClass:"grace-h4 grace-icons icon-remove",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchKeyHistory=[]}}})],1),a("v-uni-view",{staticClass:"grace-search-tags grace-wrap"},e._l(e.searchKeyHistory,(function(t,i){return a("v-uni-view",{key:i,staticClass:"grace-search-tags-items",attrs:{"data-key":t},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.confirm(t)}}},[e._v(e._s(t))])})),1)],1):e._e()],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.isSearchShow,expression:"!isSearchShow"}],staticClass:"grace-flex grace-wrap grace-body grace-space-between"},[e._l(e.products,(function(t){return a("v-uni-view",{key:t.id,staticClass:"product",staticStyle:{width:"48%"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.toProdcut("/product/item/"+t.id)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.image,expression:"product.image"}],staticStyle:{width:"100%"}}),a("v-uni-view",{staticClass:"desc"},[a("v-uni-view",{staticClass:"title"},[e._v(e._s(t.title))]),a("v-uni-view",{staticClass:"price"},[e._v("$"+e._s(t.price_min/100))])],1)],1)})),a("graceLoading",{attrs:{loadingType:e.loadingType,loadingText:e.loadingText}})],2),e.isEmpty&&!e.isSearchShow?a("v-uni-view",[a("graceEmpty",{staticClass:"grace-margin-top",attrs:{text:e.emptyText}})],1):e._e()],1)],1)],1)},c=[]},"3c42":function(e,t,a){"use strict";a.r(t);var i=a("7e05"),r=a("c26e");for(var c in r)"default"!==c&&function(e){a.d(t,e,(function(){return r[e]}))}(c);a("d1b3");var n,o=a("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"cadc5650",null,!1,i["a"],n);t["default"]=s.exports},"3ef6":function(e,t,a){"use strict";a.r(t);var i=a("c70f"),r=a.n(i);for(var c in i)"default"!==c&&function(e){a.d(t,e,(function(){return i[e]}))}(c);t["default"]=r.a},"44dd":function(e,t,a){var i=a("866b");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("6aceda9a",i,!0,{sourceMap:!1,shadowMode:!1})},"56d2":function(e,t,a){"use strict";a.r(t);var i=a("1801"),r=a("3ef6");for(var c in r)"default"!==c&&function(e){a.d(t,e,(function(){return r[e]}))}(c);a("094db");var n,o=a("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"e6285262",null,!1,i["a"],n);t["default"]=s.exports},"70a7":function(e){e.exports=JSON.parse('{"Search_history":"搜索历史","Search_hotkey":"搜索热词","EmptyText":"没有任何商品"}')},"786e":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"[data-v-e6285262] .grace-page-body{background-color:#f0f0f0}.product[data-v-e6285262]{box-sizing:border-box;margin-top:%?20?%;background-color:#fff;border-radius:%?20?%;overflow:hidden}.product .desc[data-v-e6285262]{padding:0 %?15?% %?20?% %?15?%}.title[data-v-e6285262]{font-size:%?28?%;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;word-break:break-all}.price[data-v-e6285262]{margin-top:%?15?%;color:#ff7530;font-size:%?32?%}.grace-search-tags[data-v-e6285262]{padding:%?10?% 0}.grace-search-tags-items[data-v-e6285262]{padding:%?5?% %?20?%;border-radius:%?30?%;margin-right:%?15?%;margin-bottom:%?15?%;font-size:%?24?%;line-height:%?40?%;border-width:1px;border-style:solid;border-color:#f1f1f1;color:#a5a7b2;font-size:%?26?%}",""]),e.exports=t},"7e05":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"grace-empty"},[a("v-uni-view",{class:["grace-empty-icon","grace-empty-icon"+e.iconType],style:{fontSize:e.iconSize+"rpx",lineHeight:e.iconSize+10+"rpx",color:e.iconColor}}),""!=e.text?a("v-uni-view",{staticClass:"grace-empty-text",style:{fontSize:e.textSize+"rpx",lineHeight:e.textSize+10+"rpx",color:e.textColor}},[e._v(e._s(e.text))]):e._e(),e._t("default")],2)},c=[]},"843b":function(e,t,a){var i=a("786e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=a("4f06").default;r("0e47fba0",i,!0,{sourceMap:!1,shadowMode:!1})},"866b":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.grace-empty[data-v-cadc5650]{width:100%}.grace-empty-icon[data-v-cadc5650]{text-align:center}.grace-empty-text[data-v-cadc5650]{padding:%?20?% 0;text-align:center}@font-face{font-family:graceEmptyFont;src:url(https://at.alicdn.com/t/font_1348648_qbg88v58i.ttf) format("truetype")}.grace-empty-icon1[data-v-cadc5650]:before{font-family:graceEmptyFont!important;content:"\\e736"}.grace-empty-icon2[data-v-cadc5650]:before{font-family:graceEmptyFont!important;content:"\\e600"}.grace-empty-icon3[data-v-cadc5650]:before{font-family:graceEmptyFont!important;content:"\\e704"}.grace-empty-icon4[data-v-cadc5650]:before{font-family:graceEmptyFont!important;content:"\\e66e"}.grace-empty-icon5[data-v-cadc5650]:before{font-family:graceEmptyFont!important;content:"\\e644"}',""]),e.exports=t},c26e:function(e,t,a){"use strict";a.r(t);var i=a("0018"),r=a.n(i);for(var c in i)"default"!==c&&function(e){a.d(t,e,(function(){return i[e]}))}(c);t["default"]=r.a},c70f:function(e,t,a){"use strict";var i=a("4ea4");a("99af"),a("ac1f"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("e496")),c=i(a("70a7")),n=20,o={i18n:{messages:{"en-US":r.default,"zh-CN":c.default}},data:function(){return{isSearchShow:!1,offset:0,products:[],search:"",searchKey:"",searchKeyHistory:["GraceUI","测试","关键字","类型"],lock:!1,loadingType:4,isEmpty:!1}},computed:{loadingText:function(){return this.$store.getters.loadingText},emptyText:function(){return this.$t("EmptyText")}},onShow:function(){uni.setNavigationBarTitle({title:this.$t("Search")})},onLoad:function(e){var t=this;e.query?(uni.showLoading({mask:!0}),this.searchKey=e.query,this.$dove.query({api:"product:search",param:{query:e.query},term:{size:n,offset:this.offset}}).then((function(e){uni.hideLoading(),t.products=e.list,t.loadingType=0,e.list.length<n&&(t.loadingType=2),0===e.list.length&&(t.loadingType=4,t.isEmpty=!0)}))):this.isSearchShow=!0},onReachBottom:function(){var e=this;2===this.loadingType||this.lock||(this.lock=!0,this.offset+=n,this.loadingType=1,this.$dove.query({api:"product:search",param:{query:this.searchKey},term:{size:n,offset:this.offset}}).then((function(t){e.lock=!1,t.list.length>0?(e.loadingType=0,e.products=e.products.concat(t.list)):e.loadingType=2})))},methods:{tapSearch:function(e){this.isSearchShow=!0},goback:function(){this.$store.commit("goBack")},confirm:function(e){e&&(this.searchKey="n",this.$nextTick((function(){this.searchKey="",this.$route.query.query?this.$Router.replace({path:"/pages/search/search?query="+e}):this.$Router.push({path:"/search?query="+e})})))},clear:function(){this.$Router.replace({path:"/search"})},toProdcut:function(e){this.$Router.push({path:e})}}};t.default=o},d1b3:function(e,t,a){"use strict";var i=a("44dd"),r=a.n(i);r.a},e496:function(e){e.exports=JSON.parse('{"Search_history":"Search history","Search_hotkey":"Popular searches","EmptyText":"no products"}')}}]);