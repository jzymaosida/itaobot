(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-cate-cate"],{"22fa":function(t,e,i){"use strict";var a=i("efaf"),o=i.n(a);o.a},"404a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.left[data-v-581610a0]{position:absolute;width:%?200?%;background:#f7f7f7;top:%?88?%;bottom:0}.left .active[data-v-581610a0]{background-color:#fff;color:#ff7500;position:relative}.left .active[data-v-581610a0]::after{content:"";position:absolute;height:%?40?%;width:%?6?%;background-color:#ff7500;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.left .row[data-v-581610a0]{height:%?88?%;line-height:%?88?%;text-align:center}.left .row .text[data-v-581610a0]{font-size:%?26?%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:90%;margin:0 auto}.right[data-v-581610a0]{position:absolute;width:calc(100vw - %?200?%);top:%?88?%;left:%?200?%;bottom:0}.right .room[data-v-581610a0]{height:%?206?%;box-sizing:border-box;padding:%?20?% %?24?%;position:relative}.right .room[data-v-581610a0]::after{content:"";position:absolute;right:0;bottom:0;width:%?345?%;height:%?2?%;background-color:#efefef}.right .room-right[data-v-581610a0]{height:100%;padding-left:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.right .room-right > *[data-v-581610a0]{width:100%}.right .title[data-v-581610a0]{font-size:%?26?%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:-webkit-fit-content;height:fit-content;word-break:break-all}.right .price[data-v-581610a0]{color:#ff7503;font-size:%?36?%}',""]),t.exports=e},4105:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("4de4"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("ade3")),r=a(i("2909")),n=20,c={data:function(){return{loading:!0,categoryList:[],active:{},productList:[],offset:0,loadingType:4,scrollTop:0}},computed:{loadingText:function(){return this.$store.getters.loadingText}},onShow:function(){uni.showTabBar();for(var t=0;t<4;t++)uni.setTabBarItem({index:t,text:this.$t("Bar")[t]})},created:function(){var t=this;this.loading=!0,this.$dove.query({api:"product/category:all"}).then((function(e){t.categoryList=(0,r.default)(e.filter((function(t){return 0===t.parent}))),t.active=(0,o.default)({},t.categoryList[0].id,!0),t.$dove.query({api:"product:page",param:{cat_id:t.categoryList[0].id},term:{size:n}}).then((function(e){t.loading=!1,t.productList=(0,r.default)(e.list),e.length<10&&(t.loadingType=2)}))}))},methods:{navigate:function(t){this.$Router.push({path:t})},tapSearch:function(t){this.$Router.push({path:"/search"})},setActive:function(t){var e=this;uni.showLoading({mask:!0}),this.active={},this.active=(0,o.default)({},t.id,!0),this.$dove.query({api:"product:page",param:{cat_id:t.id},term:{size:n}}).then((function(t){e.scrollTop=1,e.$nextTick((function(){this.scrollTop=0})),e.offset=0,uni.hideLoading(),e.productList=(0,r.default)(t.list),t.length<n&&(e.loadingType=2)}))},loadmore:function(){var t=this;2===this.loadingType||this.lock||(this.loadingType=1,this.lock=!0,this.offset+=n,this.$dove.query({api:"product:page",param:{cat_id:this.categoryList[0].id},term:{size:n,offset:this.offset}}).then((function(e){t.lock=!1,e.list.length>0?(t.loadingType=0,t.productList=[].concat((0,r.default)(t.productList),(0,r.default)(e.list))):t.loadingType=2})))}}};e.default=c},"6b84":function(t,e,i){"use strict";i.r(e);var a=i("4105"),o=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},"8ade":function(t,e,i){"use strict";i.r(e);var a=i("f73e"),o=i("6b84");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("22fa");var n,c=i("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"581610a0",null,!1,a["a"],n);e["default"]=s.exports},efaf:function(t,e,i){var a=i("404a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("97f9ef1e",a,!0,{sourceMap:!1,shadowMode:!1})},f73e:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={gracePage:i("5415").default,graceSearch:i("8c62").default,graceLoading:i("f95f").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("gracePage",{attrs:{customHeader:!0,isLoading:t.loading}},[i("v-uni-view",{attrs:{slot:"gHeader"},slot:"gHeader"},[i("v-uni-view",{staticClass:"grace-flex grace-flex-center grace-flex-vcenter grace-fixed-top grace-padding",staticStyle:{"box-sizing":"border-box"}},[i("v-uni-image",{staticStyle:{width:"238rpx",height:"88rpx","margin-right":"20rpx"},attrs:{src:"https://www.itaobot.com/asset/img/logo-long.png",mode:"aspectFit"}}),i("v-uni-view",{staticStyle:{width:"100%"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tapSearch.apply(void 0,arguments)}}},[i("graceSearch",{attrs:{placeholder:"",background:"#F5F6F7"}})],1)],1)],1),t.loading?t._e():i("v-uni-view",{attrs:{slot:"gBody"},slot:"gBody"},[i("v-uni-scroll-view",{staticClass:"left",attrs:{"scroll-y":"true"}},t._l(t.categoryList,(function(e,a){return i("v-uni-view",{key:e.id,staticClass:"row",class:{active:t.active[e.id]},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setActive(e)}}},[i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"block"}),t._v(t._s(e.name))],1)],1)})),1),i("v-uni-scroll-view",{staticClass:"right",attrs:{"scroll-y":"true","scroll-top":t.scrollTop},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore.apply(void 0,arguments)}}},[t._l(t.productList,(function(e,a){return i("v-uni-view",{key:a,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navigate("/product/item/"+e.id)}}},[i("v-uni-view",{staticClass:"room grace-flex grace-flex-vcenter grace-padding grace-space-between"},[i("v-uni-view",{staticStyle:{width:"164rpx",height:"164rpx","border-radius":"20rpx"}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"product.image"}],staticStyle:{width:"164rpx",height:"164rpx","border-radius":"20rpx"}})]),i("v-uni-view",{staticClass:"room-right"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"price"},[t._v("$"+t._s(e.price_min/100))])],1)],1)],1)})),i("graceLoading",{attrs:{loadingType:t.loadingType,loadingText:t.loadingText}})],2)],1)],1)},r=[]}}]);